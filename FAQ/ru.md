# Часто задаваемые вопросы

## Общие

### Что такое Quaver?

Quaver — это ритм-игра с открытым исходным кодом, вдохновлённая разными классическими ритм-играми. В Quaver будет сделан большой акцент на соревнования в режиме реального времени. При разработке мы прислушиваемся к мнению и пожеланиям сообщества.

### Чем Quaver отличается от других игр?

Исходный код игры открыт, что позволяет каждому помогать и делать игру лучше. Также мы стремимся разнообразить VSRG-концепцию при помощи соревновательных аспектов.

### На какой стадии разработки находится Quaver?

Quaver находится на ранней стадии разработки, в данный момент в закрытом альфа-тестировании. Для доступа к онлайн-функциям нужно зарегистрироваться на альфа-тестирование.

### На каких платформах Quaver будет доступен?

Quaver будет доступен на Windows, Mac и Linux.

### Где можно зарегистрироваться на альфа-тестирование?

Регистрация на альфа-тестирование проходит волнами. Перед началом каждой волны регистраций делается объявление.

### Могу ли я играть в Quaver, не являясь участником альфа-тестирования?

Да, офлайн-версию Quaver можно скачать на [GitHub](https://github.com/Quaver/Quaver/releases). Однако, онлайн-функции, такие как онлайн-ранкинг, загрузка карт, чат и другие, будут недоступны.

### То есть я не смогу скачивать карты с сайта Quaver?

Да, скачивать карты с сайта Quaver можно только являясь участником альфа-тестирования. Также карты можно скачать с [зеркала](https://rhythmgamers.net/pack/), доступного всем.

### Есть ли примерная дата выхода игры?

Примерной даты выхода ещё нет.

## Геймплей

### Какие режимы поддерживаются в Quaver?

На данный момент в Quaver поддерживаются режимы 4 и 7 клавиш.

### Можно ли импортировать карты из других игр?

Да, Quaver поддерживает карты в форматах .osz и .sm. Чтобы их загрузить, перетащите файлы в окно игры.

### У меня есть много карт в другой игре, можно ли их все импортировать одновременно?

Возможно подгрузить все карты одновременно, задав путь к «.db»-файлу игры в файле «quaver.cfg», который находится в папке Quaver.

### Можно ли импортировать скин из другой игры?

В самом Quaver конвертация скинов не поддерживается, но существует внешний конвертер .osk-скинов, скачать который можно [здесь](https://rhythmgamers.net/QBC/) вместе с [инструкцией](https://www.youtube.com/watch?v=pWeLbx48NVI).

### Я нашёл неполадку, где можно о ней сообщить?

Все подобные сообщения следует писать в [раздел Issues на GitHub](https://github.com/Quaver/Quaver/issues). Сообщайте о любых неполадках, только, пожалуйста, проверьте, не сообщил ли о них кто-то до вас, чтобы избежать дубликатов.

### У меня есть идея по улучшению игры, где можно о ней сообщить?

Как и сообщения о неполадках, идеи по улучшению игры следует писать в [раздел Issues на GitHub](https://github.com/Quaver/Quaver/issues). При создании выберите «Feature Request».

### Как уменьшить задержку звука хитсаундов на Linux?

В настройках звука (вкладка «Audio») вы можете найти параметры «Audio Device Period» и «Audio Device Buffer Length». Общее правило такое: уменьшение данных параметров ведёт к уменьшению задержки, но при этом увеличивается нагрузка на процессор и вероятность звуковых глитчей. Попробуйте поставить Period на 2 ms и Buffer Length на 8 ms и перезапустить игру. Если присутствуют звуковые глитчи, попробуйте увеличить Period или Buffer Length.

Частая рекомендация для уменьшения звуковых глитчей — открыть файл `/etc/security/limits.conf` и добавить следующую строку:
```
your_username      -   rtprio      99
```
Замените `your_username` на ваше имя пользователя в Linux. Перезагрузите систему, чтобы данное изменение вступило в силу.

Если задержка звука увеличивается со временем игры, откройте файл `/etc/pulse/default.pa`, найдите следующую строку:
```
load-module module-udev-detect
```
и замените её на:
```
load-module module-udev-detect fixed_latency_range=yes
```
Затем перезагрузите систему. Имейте ввиду, что данная настройка может привести к появлению сильных звуковых глитчей в некоторых приложениях (например, в голосовом чате Discord).

### Как включить Wayland VSync?

Чтобы включить Wayland VSync, вам нужен Linux и Wayland-композитор, например, присутствующий в новых версиях GNOME и KDE (удостоверьтесь, что вы не используете режим "Xorg"), или отдельный, например, Weston или sway. Проверить, используете ли вы Wayland, можно, посмотрев на переменную окружения `WAYLAND_DISPLAY`, например, открыв терминал и выполнив команду `echo $WAYLAND_DISPLAY`: она должна вывести что-то вроде `wayland-0`, а не пустую строку.

Запустить Quaver на Wayland можно, выставив значение переменной окружения `SDL_VIDEODRIVER` в `wayland`.

- При запуске через Steam, нажмите правой кнопкой мыши на Quaver в библиотеке, откройте свойства и нажмите на Установить настройки запуска. В поле введите: `SDL_VIDEODRIVER=wayland %command%` и нажмите OK.
- При запуске через `quaver.sh`, добавьте строку `export SDL_VIDEODRIVER=wayland` перед строкой, в которой написано `exec dotnet ...`.

Теперь откройте Quaver и включите Wayland VSync. Включите счётчик FPS, чтобы проверить, что он работает. FPS должно стать равным частоте обновления монитора, а UPS должно стать выше.

Для наименьшей задержки (меньше одного кадра) на композиторе sway настройте `max_render_time` на мониторе и на окне Quaver. Инструкцию можно найти в `man 5 sway`.

## Решение проблем

### Игра не запускается

Убедитесь, что запущен Steam. Steam необходим для запуска игры, даже для офлайн-версии.

#### Linux, Steam-версия

Для работы Quaver на данный момент требуется `libdl.so`. Обычно он установлен по умолчанию, но иногда это не так. Если вы используете Debian, Ubuntu, Mint или другой дистрибутив на основе Debian, попробуйте следующую команду:
```shell
sudo apt install libc6-dev
```
Если вы используете Fedora, попробуйте следующую команду:
```shell
sudo dnf install glibc-devel
```
Если вы используете Arch Linux, попробуйте следующую команду:
```shell
sudo pacman -S glibc
```

#### Linux, офлайн-версия или самостоятельная сборка

Для запуска офлайн-версии или самостоятельно собранной версии со встроенной средой выполнения .NET (например, полученной командой `dotnet publish -c Release -r linux-x64`) требуется использовать среду выполнения Steam. Запустите следующую команду из папки с репозиторием Quaver:
```shell
~/.steam/bin/steam-runtime/run.sh Quaver/bin/Release/netcoreapp2.1/linux-x64/publish/Quaver
```

Для запуска самостоятельно собранной версии без среды выполнения .NET (например, полученной командой `dotnet build -p Quaver -c Debug`) нужен правильно настроенный путь загрузки библиотек. Это можно сделать с помощью скрипта запуска среды выполнения Steam и скрипта запуска Quaver:
```shell
~/.steam/bin/steam-runtime/run.sh Quaver/bin/Debug/netcoreapp2.1/quaver.sh
```

### Я не могу загрузить свой набор карт из редактора

Если не удаётся загрузить набор карт из редактора, можно загрузить вручную на сайте в разделе [Upload Mapset](https://quavergame.com/upload/mapset/).

### При загрузке Quaver в Steam возникает ошибка "файл с контентом заблокирован"

Судя по всему, в этой ошибке виноват Steam.

Действия, которые могут помочь — перезапуск компьютера, проверка целостности файлов игры Quaver, запуск Steam от имени администратора.

Если эти действия не помогли, возможно, ответ удастся найти в одном из этих тредов:
- [Первый (SteamCommunity)](https://steamcommunity.com/app/346110/discussions/0/333656722964822410/)
- [Второй (Reddit)](https://www.reddit.com/r/Steam/comments/5cnjzf/content_file_locked/)

### Игра запустилась с разрешением больше моего монитора, из-за чего играть невозможно

Закройте Quaver и откройте папку с файлами игры.

Откройте файл `quaver.cfg` и найдите строчки `WindowHeight` и `WindowWidth`. Поменяйте в них разрешение на нужное. Рекомендуется также поменять значение в строчке `WindowFullScreen` на `False`, чтобы отключить полноэкранный режим, чтобы убедиться, что разрешение правильное.

### Мой антивирус обнаружил Quaver как вирус

Это происходит из-за того, что файлы игры не подписаны цифровой подписью (для этого нужно покупать цифровой сертификат и платить за его продление).

Добавьте `Quaver.exe` или папку файлов игры в исключения антивируса.
